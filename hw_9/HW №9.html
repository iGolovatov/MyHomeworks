<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Домашнее задание № 9</title>
</head>
<body>
    <h1>Домашнее задание № 9</h1>
    <h2>Выполнил студент 413 группы, Андрей Головатов</h2>
    <script>
    let marvelBigObject = {
        0: {
            'title': 'Железный человек',
            'year': 2008,
            'director': 'Джон Фавро',
            'screenwriter': 'Марк Фергус и Хоук Остби, Артур Маркам и Мэтт Холлоуэй',
            'producer': 'Ави Арад и Кевин Файги',
            'stage': 'Первая фаза'
        },

        1: {
            'title': 'Железный человек',
            'year': 2008,
            'director': 'Джон Фавро',
            'screenwriter': 'Марк Фергус и Хоук Остби, Артур Маркам и Мэтт Холлоуэй',
            'producer': 'Ави Арад и Кевин Файги',
            'stage': 'Первая фаза'
        },
        2: {
            'title': 'Невероятный Халк',
            'year': 2008,
            'director': 'Луи Летерье',
            'screenwriter': 'Зак Пенн',
            'producer': 'Ави Арад, Гейл Энн Хёрд и Кевин Файги',
            'stage': 'Первая фаза'
        },
        3: {
            'title': 'Железный человек 2',
            'year': 2010,
            'director': 'Джон Фавро',
            'screenwriter': 'Джастин Теру',
            'producer': 'Кевин Файги',
            'stage': 'Первая фаза',
        },
        4: {
            'title': 'Тор',
            'year': 2011,
            'director': 'Кеннет Брана',
            'screenwriter': 'Эшли Эдвард Миллер и Зак Стенц, Дон Пейн',
            'producer': 'Нет данных',
            'stage': 'Первая фаза'
        },
        5: {
            'title': 'Первый мститель',
            'year': 2011,
            'director': 'Джо Джонстон',
            'screenwriter': 'Кристофер Маркус и Стивен Макфили',
            'producer': 'Нет данных',
            'stage': 'Первая фаза'
        },
        6: {
            'title': 'Мстители',
            'year': 2012,
            'director': 'Джосс Уидон',
            'screenwriter': 'Нет данных',
            'producer': 'Нет данных',
            'stage': 'Первая фаза'
        },
        7: {
            'title': 'Железный человек 3',
            'year': 2013,
            'director': 'Шейн Блэк',
            'screenwriter': 'Дрю Пирс и Шейн Блэк',
            'producer': 'Кевин Файги',
            'stage': 'Вторая фаза'
        },
        8: {
            'title': 'Тор 2: Царство тьмы',
            'year': 2013,
            'director': 'Алан Тейлор',
            'screenwriter': 'Кристофер Йост, Кристофер Маркус и Стивен Макфили',
            'producer': 'Нет данных',
            'stage': 'Вторая фаза'
        },
        9: {
            'title': 'Первый мститель: Другая война',
            'year': 2014,
            'director': 'Энтони и Джо Руссо',
            'screenwriter': 'Кристофер Маркус и Стивен Макфили',
            'producer': 'Нет данных',
            'stage': 'Вторая фаза'
        },
        10: {
            'title': 'Стражи Галактики',
            'year': 2014,
            'director': 'Джеймс Ганн',
            'screenwriter': 'Джеймс Ганн и Николь Перлман',
            'producer': 'Нет данных',
            'stage': 'Вторая фаза'
        },
        11: {
            'title': 'Мстители: Эра Альтрона',
            'year': 2015,
            'director': 'Джосс Уидон',
            'screenwriter': 'Нет данных',
            'producer': 'Нет данных',
            'stage': 'Вторая фаза'
        },
        12: {
            'title': 'Человек-муравей',
            'year': 2015,
            'director': 'Пейтон Рид',
            'screenwriter': 'Эдгар Райт и Джо Корниш, Адам Маккей и Пол Радд',
            'producer': 'Кевин Файги и Стивен Бруссар',
            'stage': 'Вторая фаза'
        },
        13: {
            'title': 'Первый мститель: Противостояние',
            'year': 2016,
            'director': 'Энтони и Джо Руссо',
            'screenwriter': 'Кристофер Маркус и Стивен Макфили',
            'producer': 'Кевин Файги',
            'stage': 'Третья фаза'
        },
        14: {
            'title': 'Доктор Стрэндж',
            'year': 2016,
            'director': 'Скотт Дерриксон',
            'screenwriter': 'Джон Спэйтс, Скотт Дерриксон и С. Роберт Каргилл',
            'producer': 'Кевин Файги',
            'stage': 'Третья фаза'
        },
        15: {
            'title': 'Стражи Галактики. Часть 2',
            'year': 2017,
            'director': 'Джеймс Ганн',
            'screenwriter': 'Нет данных',
            'producer': 'Нет данных',
            'stage': 'Третья фаза'
        },
        16: {
            'title': 'Человек-паук: Возвращение домой',
            'year': 2017,
            'director': 'Джон Уоттс',
            'screenwriter': 'Джонатан М. Голдштейн и Джон Френсис Дэйли, Джон Уоттс и Кристофер Форд, Крис МакКенна и Эрик Соммерс',
            'producer': 'Кевин Файги и Эми Паскаль',
            'stage': 'Третья фаза'
        },
        17: {
            'title': 'Тор: Рагнарёк',
            'year': 2017,
            'director': 'Тайка Вайтити',
            'screenwriter': 'Эрик Пирсон, Крэйг Кайл и Кристофер Йост',
            'producer': 'Кевин Файги',
            'stage': 'Третья фаза'
        },
        18: {
            'title': 'Чёрная пантера',
            'year': 2018,
            'director': 'Райан Куглер',
            'screenwriter': 'Райан Куглер и Джо Роберт Коул',
            'producer': 'Нет данных',
            'stage': 'Третья фаза'
        },
        19: {
            'title': 'Мстители: Война бесконечности',
            'year': 2018,
            'director': 'Энтони и Джо Руссо',
            'screenwriter': 'Кристофер Маркус и Стивен Макфили',
            'producer': 'Нет данных',
            'stage': 'Третья фаза'
        },
        20: {
            'title': 'Человек-муравей и Оса',
            'year': 2018,
            'director': 'Пейтон Рид',
            'screenwriter': 'Крис МакКенна и Эрик Соммерс; Пол Радд, Эндрю Баррер и Гэбриел Феррари',
            'producer': 'Кевин Файги и Стивен Бруссар',
            'stage': 'Третья фаза'
        },
        21: {
            'title': 'Капитан Марвел',
            'year': 2019,
            'director': 'Анна Боден и Райан Флек',
            'screenwriter': 'Женева Робертсон-Дуорет, Анна Боден и Райан Флек',
            'producer': 'Кевин Файги',
            'stage': 'Третья фаза'
        },
        22: {
            'title': 'Мстители: Финал',
            'year': 2019,
            'director': 'Энтони и Джо Руссо',
            'screenwriter': 'Кристофер Маркус и Стивен Макфили',
            'producer': 'Нет данных',
            'stage': 'Третья фаза'
        },
        23: {
            'title': 'Человек-паук: Вдали от дома',
            'year': 2019,
            'director': 'Джон Уоттс',
            'screenwriter': 'Крис МакКенна и Эрик Соммерс',
            'producer': 'Кевин Файги и Эми Паскаль',
            'stage': 'Третья фаза'
        },
        24: {
            'title': 'Чёрная вдова',
            'year': 2021,
            'director': 'Кейт Шортланд',
            'screenwriter': 'Эрик Пирсон',
            'producer': 'Кевин Файги',
            'stage': 'Четвёртая фаза'
        },
        25: {
            'title': 'Шан-Чи и легенда десяти колец',
            'year': 2021,
            'director': 'Дестин Дэниэл Креттон',
            'screenwriter': 'Дэвид Каллахэм & Дестин Дэниэл Креттон & Эндрю Лэнем',
            'producer': 'Кевин Файги и Джонатан Шварц',
            'stage': 'Четвёртая фаза'
        },
        26: {
            'title': 'Вечные',
            'year': 2021,
            'director': 'Хлоя Чжао',
            'screenwriter': 'Хлоя Чжао, Хлоя Чжао & Патрик Бёрли и Райан Фирпо & Каз Фирпо',
            'producer': 'Кевин Файги и Нейт Мур',
            'stage': 'Четвёртая фаза'
        },
        27: {
            'title': 'Человек-паук: Нет пути домой',
            'year': 2021,
            'director': 'Джон Уоттс',
            'screenwriter': 'Крис Маккенна & Эрик Соммерс',
            'producer': 'Кевин Файги и Эми Паскаль',
            'stage': 'Четвёртая фаза'
        },
        28: {
            'title': 'Доктор Стрэндж: В мультивселенной безумия',
            'year': 2022,
            'director': 'Сэм Рэйми',
            'screenwriter': 'Майкл Уолдрон',
            'producer': 'Кевин Файги',
            'stage': 'Четвёртая фаза'
        },
        29: {
            'title': 'Тор: Любовь и гром',
            'year': 2022,
            'director': 'Тайка Вайтити',
            'screenwriter': 'Тайка Вайтити и Дженнифер Кейтин Робинсон',
            'producer': 'Кевин Файги и Брэд Уиндербаум',
            'stage': 'Четвёртая фаза'
        },
        30: {
            'title': 'Чёрная пантера: Ваканда навеки',
            'year': 2022,
            'director': 'Райан Куглер',
            'screenwriter': 'Райан Куглер & Джо Роберт Коул',
            'producer': 'Кевин Файги и Нейт Мур',
            'stage': 'Четвёртая фаза'
        },
        31: {
            'title': 'Человек-муравей и Оса: Квантомания',
            'year': 2023,
            'director': 'Пейтон Рид',
            'screenwriter': 'Джефф Лавнесс',
            'producer': 'Кевин Файги и Стивен Бруссар',
            'stage': 'Пятая фаза'
        },
        32: {
            'title': 'Стражи Галактики. Часть 3',
            'year': 2023,
            'director': 'Джеймс Ганн',
            'screenwriter': 'Нет данных',
            'producer': 'Кевин Файги',
            'stage': 'Пятая фаза'
        },
        33: {
            'title': 'Капитан Марвел 2',
            'year': 2023,
            'director': 'Ниа Дакоста',
            'screenwriter': 'Меган Макдоннелл',
            'producer': 'Пост-продакшн',
            'stage': 'Пятая фаза'
        },
        34: {
            'title': 'Дэдпул 3',
            'year': 2024,
            'director': 'Шон Леви',
            'screenwriter': 'Ретт Риз, Пол Верник, Зеб Уэллс и Райан Рейнольдс',
            'producer': 'Кевин Файги, Райан Рейнольдс и Шон Леви',
            'stage': 'Пятая фаза'
        },
        35: {
            'title': 'Капитан Америка: Дивный новый мир',
            'year': 2024,
            'director': 'Джулиус Она',
            'screenwriter': 'Малкольм Спеллман и Далан Массон',
            'producer': 'Кевин Файги и Нейт Мур',
            'stage': 'Пятая фаза'
        },
        36: {
            'title': 'Громовержцы',
            'year': 2024,
            'director': 'Джейк Шрейер',
            'screenwriter': 'Эрик Пирсон',
            'producer': 'Кевин Файги',
            'stage': 'Пятая фаза'
        },
        37: {
            'title': 'Блэйд',
            'year': 2025,
            'director': 'Ян Деманж',
            'screenwriter': 'Майкл Старрбери и Ник Пиццолатто',
            'producer': 'Кевин Файги и Эрик Кэрролл',
            'stage': 'Пятая фаза'
        },
        38: {
            'title': 'Фантастическая четвёрка',
            'year': 2025,
            'director': 'Мэтт Шекман',
            'screenwriter': 'Джефф Каплан, Йен Спрингер и Джош Фридман',
            'producer': 'Кевин Файги',
            'stage': 'Шестая фаза'
        },
        39: {
            'title': 'Мстители: Династия Канга',
            'year': 2026,
            'director': 'Дестин Дэниэл Креттон',
            'screenwriter': 'Джефф Лавнесс',
            'producer': 'Кевин Файги и Джонатан Шварц',
            'stage': 'Шестая фаза'
        },
        40: {
            'title': 'Мстители: Секретные войны',
            'year': 2027,
            'director': 'TBA',
            'screenwriter': 'Майкл Уолдрон',
            'producer': 'Нет данных',
            'stage': 'Шестая фаза'
        },
        41: {
            'title': 'Войны в доспехах',
            'year': 'TBA',
            'director': 'TBA',
            'screenwriter': 'Яссер Лестер',
            'producer': 'Кевин Файги и Джонатан Шварц',
            'stage': 'Шестая фаза'
        },
        42: {
            'title': null,
            'year': 'TBA',
            'director': 'TBA',
            'screenwriter': 'Яссер Лестер',
            'producer': 'Кевин Файги и Джонатан Шварц',
            'stage': 'Шестая фаза'
        }
    }
    
    // 1. Перепаковка объекта в массив
    let moviesArray = [];

    for (let key in marvelBigObject) {
        let movie = marvelBigObject[key]; 
        let movieObject = {
            id: key,
            title: movie.title,
            year: movie.year,
            director: movie.director,
            screenwriter: movie.screenwriter,
            producer: movie.producer,
            stage: movie.stage,
        }
        moviesArray.push(movieObject); 
        console.log(movieObject);
    }
    console.log('----------------------------------------------------------------------------------------------------------------------------------');
    
    // 2. Вывод названий всех фильмов
    for (let movie of moviesArray) {
        if (!movie.title) {
            console.log('Фильм без названия');
            continue;
        }
        console.log(movie.title);
    }
    console.log('----------------------------------------------------------------------------------------------------------------------------------');
    
    // 3. Подсчет фильмов по фазам
    let phaseCount = [];
    for (let movie of moviesArray) {
        if (!phaseCount[movie.stage]) {
            phaseCount[movie.stage] = 1;
        } else {
            phaseCount[movie.stage]++;
        }
    }
    console.log(phaseCount);
    console.log('----------------------------------------------------------------------------------------------------------------------------------');

    // 4. Создание объекта с названием фильмов по фазам
    let moviesByPhase = {};
    for (let movie of moviesArray) {
        if (!moviesByPhase[movie.stage]) {
            moviesByPhase[movie.stage] = [];
        }
        moviesByPhase[movie.stage].push(movie.title);
    }
    console.log(moviesByPhase);
    console.log('----------------------------------------------------------------------------------------------------------------------------------');

    // 5. Определение количества фильмов, которые еще не вышли
    let upcomingMoviesCount = 0;
    for (let movie of moviesArray) {
        if (movie.year === 'TBA' || movie.year > 2024) {
            upcomingMoviesCount++;
        }
    }
    console.log(`Количество фильмов, которые еще не вышли: ${upcomingMoviesCount}`);
    console.log('----------------------------------------------------------------------------------------------------------------------------------');

    // 6. Создание объекта с количеством фильмов по годам
    let moviesByYear = {};
    for (let movie of moviesArray) {
        if (!moviesByYear[movie.year]) {
            moviesByYear[movie.year] = 1;
        } else {
            moviesByYear[movie.year]++;
        }
    }
    console.log(moviesByYear);
    console.log('----------------------------------------------------------------------------------------------------------------------------------');
    
    // 7. Вывод списка фильмов с "Человек" в названии
    let moviesWithMan = [];
    for (let movie of moviesArray) {
        if (movie.title && movie.title.includes('Человек')) {
            moviesWithMan.push(movie.title);
        }
    }
    console.log(moviesWithMan);
    console.log('----------------------------------------------------------------------------------------------------------------------------------');
        
    // 8. Поиск фильмов, вышедших после 2018 года
    let moviesAfter2018 = [];
    for (let movie of moviesArray) {
        if (movie.year !== 'TBA' && movie.year > 2018) {
            moviesAfter2018.push(movie.title);
        }
    }
    console.log(moviesAfter2018);
    console.log('----------------------------------------------------------------------------------------------------------------------------------');

    // 9. Поиск фильмов с участием Кевина Файги
let moviesWithKevinFeige = [];
    for (let movie of moviesArray) {
        if (movie.producer.includes('Кевин Файги')) {
            if (movie.title) {
            moviesWithKevinFeige.push(movie.title); 
        }}
    }
    console.log(moviesWithKevinFeige);
    console.log('----------------------------------------------------------------------------------------------------------------------------------');
    
    // 10. Поиск фильма, вышедшего раньше всех
    let earliestYear;
    let earliestMovie;
    for (let movie of moviesArray) {
        if (!earliestYear && movie.year !== 'TBA'){
            earliestYear = movie.year;
            earliestMovie = movie;
        } else if (movie.year !== 'TBA' && movie.year < earliestYear){
            earliestYear = movie.year;
            earliestMovie = movie;
        }
    }
    console.log(earliestMovie);
    console.log('----------------------------------------------------------------------------------------------------------------------------------');
    
    </script>

</body>
</html>
